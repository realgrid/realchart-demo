
/** 
 * RealReport-Chart v0.0.1
 * Copyright (C) 2023-2023 WooriTech Inc.
 * All Rights Reserved. 
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).RealChart={})}(this,(function(t){"use strict";let e=0;class i{static destroy(t){return t&&t.destroy()}constructor(t){this.$_destroyed=!1,this.$_destroying=!1,t||(this.$_hash=String(e++))}destroy(){return this.$_destroyed||this.$_destroying||(this.$_destroyed=!0,this.$_destroying=!0,this._doDestory()),null}_doDestory(){}get destroying(){return this.$_destroying}get hash(){return this.$_hash}isMe(t){return t===this.$_hash}toString(){return this.constructor.name}toBool(t){return"string"==typeof t?"true"===t:t}toNum(t,e=NaN){return t=parseFloat(t),isNaN(t)?e:t}}class s extends i{wrapper(){return this._wrapper}wrapperOrThis(){return this._wrapper||this}createWrapper(t){const e=this._wrapper=new t;return e.$_c=this,e}setWrapper(t){return this._wrapper=t,t.$_c=this,t}isWrapper(t){return t===this._wrapper}}const r="http://www.w3.org/2000/svg",n=function(t){return t&&"object"==typeof t&&!Array.isArray(t)},a=Array.isArray,o=function(t){return"string"==typeof t},h=function(t){return"number"==typeof t},l=function(t,e){return t=parseFloat(t),isNaN(t)?parseFloat(e):t};class c{static setLogging(t=!0){this._logging=t}static log(...t){this._logging&&console.log.apply(console,t)}}c._logging=!1;class d{static setDebugging(t=!0){this._debugging=t}static debugging(){this._debugging}}d._debugging=!1;const u={ko:{dateFormat:"yyyy.MM.dd",am:"오전",pm:"오후",notExistsDataField:"존재하지 않는 필드입니다: %1",notSpecifiedDataField:"하나 이상의 데이터필드가 설정돼야 합니다.",invalidFieldName:"잘못된 데이터필드 이름입니다: %1",invalidFieldIndex:"잘못된 데이터필드 index입니다: %1",invalidRowIndex:"잘못된 데이터행 index입니다: %1",canNotModifyData:"읽기 전용 데이터를 변경할 수 없습니다.",canNotModifyDeleted:"삭제 상태 행을 변경할 수 없습니다: %1",requiredField:"반드시 값을 지정해야 하는 필드입니다: %1",invalidValueInDomain:"값이 필드 값 도메인에 포함되지 않습니다: %1",invalidValueInRange:"값이 필드 값 범위에 포함되지 않습니다: %1",invalidToIndex:"잘못된 'to' index입니다.: %1",requireSourceData:"원본 data가 반드시 지정돼야 합니다.",requireFilterName:"필터 이름이 반드시 지정돼야 합니다.",alreadyEditing:"이미 데이터 편집 중입니다.",invalidDateFormat:"잘못된 시간 날짜 형식입니다: %1",invalidSizeValue:"잘못된 Size 값입니다: %1",invalidOuterDiv:"잘못된 외부 div 입니다: %1",canNotHorzGrouping:"수평 모드일 때 그룹핑할 수 없습니다.",dataMustSet:"데이터가 먼저 설정돼야 합니다.",requireGroupingInfos:"하나 이상의 행 그룹핑 정보가 설정돼야 합니다.",canNotRowGrouping:"데이터링크 view에 대해 행그룹핑 할 수 없습니다. dataGroupBy()를 사용하세요.",canNotDataGrouping:"데이터링크 view가 아니면 데이터그룹핑할 수 없습니다. rowGroupBy()를 사용하세요.",canNotHorzInGrouping:"그룹핑 상태일 때 수평모드로 변경할 수 없습니다.",unknownLayoutType:"잘못된 layout 종류입니다: %1",layoutMustSet:"레이아웃 모델이 반드시 설정돼야 합니다.",unknownItemViewType:"잘못된 item view 종류입니다: %1",requireCommandName:"Command 이름이 지정돼야 합니다.",commandNameDuplicated:"이미 존재하는 command 이름입니다: %1",requireDataOrGroup:"데이터소스나 그룹 모델이 반드시 지정돼야 합니다.",requireTableName:"테이블모델의 이름이 지정돼야 합니다.",alreadyTableExists:"이미 존해하는 테이블모델입니다: %1",selectEditRowFirst:"수정하거나 삽입할 행을 먼저 선택하세요."},en:{dateFormat:"M/d/yyyy",am:"AM",pm:"PM",notExistsDataField:"A data field is not exists: %1",notSpecifiedDataField:"At least one datafield must be set.",invalidFieldName:"Invalid field name: %1",invalidFieldIndex:"Invalid field index: %1",invalidRowIndex:"Invalid row index: %1",canNotModifyData:"Can not modify a readonly data.",canNotModifyDeleted:"Can not modify a deleted row: %1",requiredField:"Required field: %1",invalidValueInDomain:"The value is not int the domain: %1",invalidValueInRange:"The value is not int the range: %1",invalidToIndex:"Invalid 'to' index: %1",requireSourceData:"A source data must be set.",requireFilterName:"A filter name must be set.",alreadyEditing:"DataView is already editing.",invalidDateFormat:"Invalid datetime format: %1",invalidSizeValue:"Invalid size value: %1",invalidOuterDiv:"Invalid outer div element: %1",canNotHorzGrouping:"Can not row grouping in horz mode.",dataMustSet:"A data must be set first.",requireGroupingInfos:"At least one grouping info must be set.",canNotRowGrouping:"Can not row grouping by data link view. use dataGroupBy().",canNotDataGrouping:"Can not data grouping without data link view. rowGroupBy()를 사용하세요.",canNotHorzInGrouping:"Can not change to horz mode while grouping",unknownLayoutType:"Invalid layout: %1",layoutMustSet:"A layout model must be set.",unknownItemViewType:"Unknow item view type: %1",requireCommandName:"Command name must be supplied.",commandNameDuplicated:"Command name is already exists: %1",requireDataOrGroup:"A data or group view must be set.",requireTableName:"The name of table model is required.",alreadyTableExists:"A table model is already exists: %1",selectEditRowFirst:"First select the row you want to edit or insert."}};let p=u.ko;const g=Math.ceil;function _(t){return parseFloat(t.toPrecision(12))}class m extends Error{}const y=function(t,e){if(!t)throw new m(e)};var f;!function(t){t.UP="up",t.DOWN="down",t.LEFT="left",t.RIGHT="right"}(f||(f={}));var w,x,b;!function(t){t.LEFT="left",t.CENTER="center",t.RIGHT="right"}(w||(w={})),function(t){t.TOP="top",t.MIDDLE="middle",t.BOTTOM="bottom"}(x||(x={})),function(t){t[t.LEFT=0]="LEFT",t[t.TOP=1]="TOP",t[t.BOTTOM=2]="BOTTOM",t[t.RIGHT=3]="RIGHT"}(b||(b={}));let v=651212;class T{static getWin(t){return t.defaultView||t.parentWindow}static isVisible(t){return t&&"none"!==t.style.display}static setVisible(t,e,i=""){return t.style.display=e?i||"":"none",e}static hide(t){t.style.display="none"}static show(t,e=""){t.style.display=e}static addClass(t,e){if(e){e.split(/\s+/g).forEach((e=>t.classList.add(e)))}return t}static removeClass(t,e){if(e){e.split(/\s+/g).forEach((e=>t.classList.remove(e)))}return t}static getImageUrl(t){const e=t.backgroundImage;if(e&&e.startsWith('url("'))return e.substring(5,e.length-2)}static getFocused(){let t=document.getSelection().focusNode;for(;t;){if(t instanceof HTMLElement)return t;t=t.parentElement}}static isAncestorOf(t,e){let i=e;for(;i;){if(i==t)return!0;i=i.parentElement}return!1}static getOffset(t){const e=t.ownerDocument,i=e.defaultView,s=t.getBoundingClientRect(),r=e.body,n=e.documentElement,a=i.pageYOffset||n.scrollTop||r.scrollTop,o=i.pageXOffset||n.scrollLeft||r.scrollLeft,h=n.clientTop||r.clientTop||0,l=n.clientLeft||r.clientLeft||0,c=s.left+o-l,d=s.top+a-h;return{x:Math.round(c),y:Math.round(d)}}static getSize(t){const e=t.getBoundingClientRect();return{width:e.width,height:e.height}}static moveX(t,e){t.style.left=e+"px"}static moveY(t,e){t.style.top=e+"px"}static move(t,e,i){t.style.left=e+"px",t.style.top=i+"px"}static moveI(t,e,i){t.style.left=(e>>>0)+"px",t.style.top=(i>>>0)+"px"}static resize(t,e,i){t.style.width=e+"px",t.style.height=i+"px"}static resizeSVG(t,e,i){t.setAttribute("viewBox",`0 0 ${e} ${i}`)}static setWidth(t,e){t.style.width=e+"px"}static setHeight(t,e){t.style.height=e+"px"}static getBrowserSize(t){const e=t?t.ownerDocument:document,i=e.defaultView;return{width:i.innerWidth||e.documentElement.clientWidth||e.body.clientWidth,height:i.innerHeight||e.documentElement.clientHeight||e.body.clientHeight}}static setRect(t,e){const i=t.style;i.left=e.x+"px",i.top=e.y+"px",i.width=e.width+"px",i.height=e.height+"px"}static setBounds(t,e,i,s,r){const n=t.style;n.left=e+"px",n.top=i+"px",n.width=s+"px",n.height=r+"px"}static setBoundsEx(t,e,i,s,r){const n=t.style;!isNaN(e)&&(n.left=e+"px"),!isNaN(i)&&(n.top=i+"px"),!isNaN(e)&&(n.width=s+"px"),!isNaN(e)&&(n.height=r+"px")}static getClientRect(t){const e=t.getBoundingClientRect();return e.cx=t.offsetLeft,e.cy=t.offsetTop,e}static getChildIndex(t){if(t){const e=t.parentNode;if(e){const i=e.children;for(let e=i.length;e--;)if(i[e]===t)return e}}return-1}static clearChildren(t){let e;for(;e=t.lastChild;)t.removeChild(e)}static clearElements(t){let e;for(;e=t.lastChild;)T.clearElements(e),t.removeChild(e)}static append(t,e){e.parentNode!==t&&t.appendChild(e)}static addChild(t,e){return!(!t||!e||e.parentNode===t)&&(t.appendChild(e),!0)}static removeChild(t,e){return!(!t||!e||e.parentNode!==t)&&(t.removeChild(e),!0)}static removeChildren(t,e){e.forEach((e=>{e instanceof Element?e.parentNode===t&&t.removeChild(e):e&&e.dom().parentNode==t&&t.removeChild(e.dom())}))}static remove(t){const e=t&&t.parentElement;return e&&e.removeChild(t),null}static clearStyle(t){t.style.cssText=""}static removeStyles(t,e){if(e)for(const i in e)t[i]=""}static setStyle(t,e){e&&Object.assign(t.style,e)}static replaceStyle(t,e,i){if(e!=i){if(i)for(const e in i)t[e]="";return e&&Object.assign(t,e),e}return i}static createElement(t,e,i){const s=t.createElement(e);return i&&Object.assign(s.style,i),s}static htmlEncode(t){return document.createElement("a").appendChild(document.createTextNode(t)).parentNode.innerHTML}static setData(t,e,i){null==i||""===i?delete t.dataset[e]:t.dataset[e]=i}static toggleData(t,e,i){i?t.dataset[e]="1":delete t.dataset[e]}static getData(t,e){return t.dataset[e]}static hasData(t,e){return void 0!==t.dataset[e]}static setVar(t,e,i){t.style.setProperty(e,i)}static animate(t,e,i,s,r=150,n="none"){const a={},o={};return a[e]=i,o[e]=s,t.animate([a,o],{duration:r,fill:n})}static setAttr(t,e,i){null!=i&&""!==i?t.setAttribute(e,i):t.removeAttribute(e)}static setAttrs(t,e){for(const i in e)t.setAttribute(i,e[i])}static getDomId(){return"-rtc-"+v++}static createBR(t,e){const i=t.createElement("br");return i.className=e,i}static createSpan(t,e){const i=t.createElement("span");return e&&Object.assign(i.style,e),i}static createCheckBox(t,e){const i=t.createElement("input");return i.type="checkbox",e&&Object.assign(i.style,e),i}static createRadio(t,e){const i=t.createElement("input");return i.type="radio",e&&Object.assign(i.style,e),i}static getPadding(t){const e=getComputedStyle(t);return{left:parseFloat(e.paddingLeft)||0,right:parseFloat(e.paddingRight)||0,top:parseFloat(e.paddingTop)||0,bottom:parseFloat(e.paddingBottom)||0}}static getPaddingEx(t){const e=this.getPadding(t);return e.horz=e.left+e.right,e.vert=e.top+e.bottom,e}static getPaddingBorder(t){const e=getComputedStyle(t);return{left:parseFloat(e.paddingLeft)||0,right:parseFloat(e.paddingRight)||0,top:parseFloat(e.paddingTop)||0,bottom:parseFloat(e.paddingBottom)||0,borderLeft:parseFloat(e.borderLeftWidth)||0,borderRight:parseFloat(e.borderRightWidth)||0,borderTop:parseFloat(e.borderTopWidth)||0,borderBottom:parseFloat(e.borderBottomWidth)||0}}static stopAnimation(t){if(t)try{t.finish()}catch(t){d.debugging(),console.error(t)}return null}static childByPath(t,e){let i=t;if(e){let t=0;for(;t<e.length;)i=i.childNodes[e[t++]]}return i}static childByClass(t,e){return t.getElementsByClassName(e)[0]}static setDisabled(t,e){this.setAttr(t,"disabled",!!e||void 0)}static setImportantStyle(t,e,i){t.setProperty(e,i,"important")}}const N=(new Date).getTime();Element.prototype.animate||(Element.prototype.animate=function(t){});const A=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,E=!!window.chrome&&!A;Object.prototype.toString.call(HTMLElement).indexOf("Constructor")>0||!E&&!A&&navigator.userAgent.indexOf("Safari"),navigator.userAgent.toLocaleLowerCase().indexOf("samsungbrowser"),navigator.userAgent.toLocaleLowerCase().indexOf("miuibrowser");const M=/"([^"]*(?="))"/,S=/'([^']*(?='))'/,C='"'.charCodeAt(0),L="'".charCodeAt(0);class k{static now(){return+new Date}static stopEvent(t,e=!1){t.preventDefault?(t.preventDefault(),t.stopPropagation()):t.returnValue=!1,e&&t.stopImmediatePropagation()}static getErrorStack(t){const e=t.stack;return e?e.split("\n").map((t=>t+"<br/>")):""}static getBaseClassName(t){return Object.getPrototypeOf(t.constructor).name}static isObject(t){return t&&"object"==typeof t&&!a(t)}static assign(t,e){this.isObject(e)&&Object.assign(t,e)}static isValidObject(t){if(this.isObject(t))for(let e in t)if(t.hasOwnProperty(e))return!0}static copyObject(t){if(t&&"object"==typeof t&&!a(t))return Object.assign({},t)}static checkArray(t){return a(t)?t:void 0}static makeArray(t,e=!1){return null!=t?a(t)?t:[t]:e?[]:void 0}static makeNumArray(t){return a(t)?t.map((t=>+t)):null!=t?[+t]:[]}static getIntArray(t,e=0){const i=[];for(let s=e,r=e+t;s<r;s++)i.push(s);return i}static isValueArray(t){if(a(t)){for(let e=t.length-1;e>=0;e--)if(null!=t[e]&&"object"==typeof t[e])return!1;return!0}return!1}static toArray(t){return a(t)?t:null!=t?[t]:null}static copyArray(t){return a(t)?t.slice(0):null!=t?[t]:void 0}static push(t,e){if(e&&e.length>0)for(let i=0,s=e.length;i<s;i++)t.push(e[i])}static isDefined(t){return null!=t}static isNotDefined(t){return null==t}static isNumber(t){return"number"==typeof t}static isValidNumber(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}static getNumber(t,e=0){const i=parseFloat(t);return isFinite(i)?i:e}static toNumber(t,e=0){return isNaN(t)||null===t||""===t?e:+t}static getEnumValues(t){return Object.keys(t).map((e=>t[e]))}static compareText(t,e,i=!1){return t=t||"",e=e||"",i&&(t=t.toLocaleLowerCase(),e=e.toLocaleLowerCase()),t>e?1:t<e?-1:0}static getTimeF(){return(new Date).getTime()/1e3}static getTimer(){return(new Date).getTime()-N}static isWhiteSpace(t){return!t||!t.trim()}static pad(t,e,i){return e=Math.max(e||2,1),i=i||"0",new Array(e-String(t).length+1).join(i)+t}static pad16(t,e,i){return e=Math.max(e||2,1),i=i||"0",new Array(e-t.toString(16).length+1).join(i)+t.toString(16)}static pick(...t){const e=t.length;let i;for(let s=0;s<e;s++)if(i=t[s],null!=i)return i}static pickNum(...t){const e=t.length;for(let i=0;i<e;i++)if(!isNaN(t[i])&&null!==t[i])return t[i];return NaN}static included(t,...e){const i=e.length;for(let s=0;s<i;s++)if(e[s]==t)return!0;return!1}static compareTextValue(t,e,i,s){if(t===e)return!0;let r=String(t),n=null==e?void 0:String(e);return!r&&!n||!(!r||!n)&&(i||(r=r.toLowerCase(),n=n.toLowerCase()),s?n.indexOf(r)>=0:r==n)}static cast(t,e){return t instanceof e?t:null}static irandom(t,e){if(void 0!==e){const i=t>>0,s=e>>0;return Math.random()*(s-i)+i>>>0}{const e=t>>0;return Math.random()*e>>0}}static irandomExcept(t,e,i){if(0===t&&1===e&&isNaN(i))throw new Error("Invalid irandom2");for(;;){const s=this.irandom(e,i);if(s!==t)return s}}static brandom(){return Math.random()>.5}static srandom(t,e){let i="";const s=this.irandom(t,e);for(let t=0;t<s;t++)i+=String.fromCharCode(this.irandom(97,123));return i}static erandom(t){const e=Object.values(t);return e[this.irandom(e.length)]}static arandom(t){return t[Math.random()*t.length>>0]}static iarandom(t,e,i){const s=new Array;for(let i=t;i<e;i++)s.push(i);for(;s.length>i;)s.splice(k.irandom(s.length),1);return s}static alert(t){window.alert(t)}static toInt(t,e){const i=parseInt(t,e||10);return isNaN(i)?0:i}static toFloat(t){const e=parseFloat(t);return isNaN(e)?0:e}static toEven(t){return 1&t?t+1:t}static hex(t,e=2,i="0"){e=Math.max(e||2,1);const s=t.toString(16);return i=i||"0",new Array(e-s.length+1).join(i)+s}static toStr(t){return Number.isNaN(t)||null==t?"":String(t)}static extend(t,e){t=t||{};for(let i in e)t[i]=e[i];return t}static equalNumbers(t,e){return isNaN(t)==isNaN(e)&&!isNaN(t)&&t==e}static equalArrays(t,e){if(t===e)return!0;if(null==t||null==e)return!1;const i=t.length;if(i!=e.length)return!1;for(let s=0;s<i;++s)if(t[s]!==e[s])return!1;return!0}static equalObjects(t,e){if(t===e)return!0;if(!t&&!e)return!0;if(!t||!e)return!1;for(var i in t)if(t.hasOwnProperty(i)&&t[i]!==e[i])return!1;for(var i in e)if(e.hasOwnProperty(i)&&t[i]!==e[i])return!1;return!0}static parseDate(t,e){const i=new Date(t);return isNaN(i.getTime())?e||new Date:i}static isLeapYear(t){return t%4==0&&t%100!=0||t%400==0}static incMonth(t,e){const i=t.getDate();return t.setDate(1),t.setMonth(t.getMonth()+e),t.setDate(Math.min(i,k.month_days[k.isLeapYear(t.getFullYear())?1:0][t.getMonth()])),t}static minDate(t,e){return null!==t?t:null!==e?e:t.getTime()<e.getTime()?t:e}static maxDate(t,e){return null!==t?e:null!==e||t.getTime()>e.getTime()?t:e}static getTextLength2(t){let e=0,i=0,s=0;for(;s=t.charCodeAt(i++);e+=s>>7?2:1);return e}static getClassName(t){if(t&&t.constructor)return t.constructor.name||function(t){let e=t.toString();return e=e.substring(9),e=e.substring(0,e.indexOf("(")),e}(t.constructor)}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isEmpty(t){if(t)for(let e in t)return!1;return!0}static isNotEmpty(t){if(t)for(let e in t)return!0;return!1}static capitalize(t){if("string"!=typeof t)return"";const e=t.charAt(0);return e>="A"&&e<="Z"?t:e.toUpperCase()+t.slice(1)}static uncapitalize(t){if("string"!=typeof t)return"";const e=t.charAt(0);return e>="a"&&e<="z"?t:e.toLowerCase()+t.slice(1)}static labelize(t){if("string"!=typeof t)return"";const e=t.charAt(0);let i=(t=e>="A"&&e<="Z"?t:e.toUpperCase()+t.slice(1)).charAt(0);for(let e=1;e<t.length;e++){const s=t.charAt(e);s>="A"&&s<="Z"&&(i+=" "),i+=s}return i}static deepClone(t){if(t instanceof Date)return new Date(t);if(null==t||"object"!=typeof t)return t;{const e=a(t)?[]:{};for(let i of Object.keys(t))e[i]=k.deepClone(t[i]);return e}}static getArray(t,e){const i=[];for(let s=0;s<t;s++)i.push(e);return i}static getNumArray(t,e=0){const i=[];for(let s=0;s<t;s++)i.push(e);return i}static hasSetter(t,e){for(;t;){const i=Reflect.getOwnPropertyDescriptor(t,e);if(i)return i.writable||!!i.set;t=Object.getPrototypeOf(t)}return!1}static dataUriToBinary(t){const e=";base64,",i=t.indexOf(e)+8,s=t.substring(i),r=window.atob(s),n=r.length,a=new Uint8Array(new ArrayBuffer(n));for(let t=0;t<n;t++)a[t]=r.charCodeAt(t);return a}static assignProps(t,e){let i=!1;if(e)for(let s in e)e[s]!==t[s]&&(t[s]=e[s],i=!0);return i}static assignStyleAndProps(t,e){let i=!1;if(e)for(let s in e)("style"===s||t.hasOwnProperty(s))&&(t[s]=e[s],i=!0);return i}static dedupe(t,e){for(let i=(t=t.sort(e||((t,e)=>t>e?1:t<e?-1:0))).length-1;i>0;i--)t[i]===t[i-1]&&t.splice(i,1);return t}static isUnique(t,e){for(let i=(t=t.sort(e||((t,e)=>t>e?1:t<e?-1:0))).length-1;i>0;i--)if(t[i]===t[i-1])return!1;return!0}static sortNum(t){return t.sort(((t,e)=>t-e))}static logElapsed(t,e){const i=+new Date;e(),console.log(t,+new Date-i+"ms")}static clamp(t,e,i){return isNaN(i)||(t=Math.min(t,i)),isNaN(e)||(t=Math.max(t,e)),t}static splice(t,e,i,s){const r=[e,i].concat(s);Array.prototype.splice.apply(t,r)}static makeIntArray(t,e){const i=new Array(Math.max(0,e-t));for(let s=t;s<e;s++)i[s-t]=s;return i}static setInterval(t,e){return setInterval(t,e)}static clearInterval(t){clearInterval(t)}static isStringArray(t){return a(t)&&t.every((t=>"string"==typeof t))}static isNumberArray(t){return a(t)&&t.every((t=>"number"==typeof t))}static makeLineSeparator(t){if(a(t)){if(t.length>0){let e=t[0];for(let i=1,s=t.length;i<s;i++)e+="|"+t[i];return new RegExp(e,"g")}}else if(t)return new RegExp(t,"g")}static stripQuotes(t){const e=t.charCodeAt(0);return e===C?t=t.replace(M,"$1"):e===L&&(t=t.replace(S,"$1")),t}static isDate(t){return"[object Date]"===Object.prototype.toString.call(t)}static isValidDate(t){return t.getTime()==t.getTime()}static asFunction(t){return"function"==typeof t?t:void 0}static getFieldProp(t){const e=t.indexOf(".");if(e>=0)return{field:t.substring(0,e),props:t.substring(e+1).split(".")}}static watch(){return new D}static startsWith(t,e){if(t&&e)return 0===t.indexOf(e)}static endsWith(t,e){if(t&&e)return t.indexOf(e,-t.length)===t.length-e.length}}k.week_days=["일","월","화","수","목","금","토"],k.month_days=[[31,28,31,30,31,30,31,31,30,31,30,31],[31,29,31,30,31,30,31,31,30,31,30,31]],k.uniqueKey=function(){let t=Math.random().toString(36).substring(2,9)+"-",e=0;return function(){return"rr-chart-"+t+e++}}();class D{constructor(){this._started=+new Date}elapsed(t=!1){const e=+new Date-this._started;return t&&(this._started=+new Date),e}elapsedText(t=!1,e="ms."){return this.elapsed(t)+e}}class O{static create(t,e,i,s){return k.isObject(t)?new O(t.x,t.y,t.width,t.height):k.isEmpty(e)?new O(t,t,t,t):k.isEmpty(i)?new O(t,e,t,e):new O(t,e,i,s)}constructor(t=0,e=0,i=0,s=0){this.x=t,this.y=e,this.width=i,this.height=s}get left(){return this.x}set left(t){const e=t-this.x;this.x+=e,this.width-=e}get right(){return this.x+this.width}set right(t){const e=t-(this.x+this.width);this.width+=e}get top(){return this.y}set top(t){const e=t-this.y;this.y+=e,this.height-=e}get bottom(){return this.y+this.height}set bottom(t){const e=t-(this.y+this.height);this.height+=e}get isEmpty(){return 0===this.width||0===this.height}get isValid(){return t=this,!(isNaN(t.x)||isNaN(t.y)||isNaN(t.width)||isNaN(t.height));var t}clone(){return new O(this.x,this.y,this.width,this.height)}getInner(){return new O(0,0,this.width,this.height)}equals(t){return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}leftBy(t){return this.x+=t,this.width-=t,this}rightBy(t){return this.width+=t,this}topBy(t){return this.y+=t,this.height-=t,this}bottomBy(t){return this.height+=t,this}shrink(t,e){return this.width-=t,this.height-=e,this}expand(t,e){return this.width+=t,this.height+=e,this}contains(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height}setEmpty(){return this.width=this.height=0,this}move(t=0,e=0){return this.x=t,this.y=e,this}set(t,e,i,s){return this.x=t,this.y=e,this.width=i,this.height=s,this}setWidth(t){return this.width=t,this}copy(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyHorz(t){return this.x=t.x,this.width=t.width,this}copyVert(t){return this.y=t.y,this.height=t.height,this}inflate(t=0,e=void 0,i=void 0,s=void 0){return e=void 0!==e?e:t,i=void 0!==i?i:t,s=void 0!==s?s:e,t&&(this.left=this.x-t),e&&(this.top=this.y-e),i&&(this.right=this.right+i),s&&(this.bottom=this.bottom+s),this}offset(t,e){return this.x+=t,this.y+=e,this}round(){const t=this.clone();return t.x>>>=0,t.y>>>=0,t.width>>>=0,t.height>>>=0,t}union(t){const e=this.clone();return e.left=Math.min(this.x,t.x),e.right=Math.max(this.right,t.right),e.top=Math.min(this.y,t.y),e.bottom=Math.max(this.bottom,t.bottom),e}normalize(){return this.width<0&&(this.x-=this.width,this.width*=-1),this.height<0&&(this.y-=this.height,this.height*=-1),this}toString(){return"{x: "+this.x+", y: "+this.y+", width: "+this.width+", height: "+this.height+"}"}}var V;O.Empty=new O,O.Temp=new O,function(t){t.LINE="line",t.LINES="lines",t.CIRCLE="circle",t.DIAMOND="diamond",t.RECTANGLE="rectangle",t.SQUARE="square",t.TRIANGLE="triangle",t.ITRIANGLE="itriangle"}(V||(V={})),k.getEnumValues(V);const R={background:"fill",border:"stroke",borderWidth:"strokeWidth",borderRadius:"borderRadius"};class I extends s{constructor(t,e,i){super(),this._inited=!1,this._testing=!1,this._dirty=!0,this._invalidElements=[],this._toAnimation=0,this._invalidateLock=!1,this._lockDirty=!1,this._cssVars={},this._windowResizeHandler=t=>{this._windowResized()},this._clickHandler=t=>{this._doClick(t),this._tool.click(t)},this._dblClickHandler=t=>{this._doDblClick(t),this._tool.dblClick(t)},this._touchMoveHandler=t=>{this._doTouchMove(t),this._tool.touchMove(t)},this._pointerDownHandler=t=>{this._doPointerDown(t)||this._tool.pointerDown(t)},this._pointerMoveHandler=t=>{this._doPointerMove(t),this._tool.pointerMove(t)},this._pointerUpHandler=t=>{this._doPointerUp(t),this._tool.pointerUp(t)},this._pointerCancelHandler=t=>{this._doPointerCancel(t),this._tool.pointerCancel(t)},this._pointerLeaveHandler=t=>{this._doPointerLeave(t),this._tool.pointerLeave(t)},this._keyPressHandler=t=>{this._doKeyPress(t),this._tool.keyPress(t)},this._wheelHandler=t=>{this._doWheel(t),this._tool.wheel(t)},!t&&e instanceof HTMLDivElement&&(t=e.ownerDocument),this.$_initControl(t||document,e,i),this._resigterEventHandlers(this._dom),this._inited=!0}_doDestory(){this._unresigterEventHandlers(this._dom),T.remove(this._dom),this._dom=null,this._container=null}isInited(){return this._inited}isTesting(){return this._testing}doc(){return this._dom.ownerDocument}dom(){return this._dom}width(){return this._container.offsetWidth}height(){return this._container.offsetHeight}activeTool(){return this._activeTool||this._tool}setSctiveTool(t){t!==this._activeTool&&(this._activeTool=t,this._tool=t||this._defaultTool)}addElement(t){t&&this._root.add(t)}removeElement(t){this._root.removeChild(t)}invalidate(t=!1){t||!this._invalidateLock&&!this._dirty&&this._inited?(this._dirty=!0,this._requestTimer||this._testing||this.$_requestRender()):this._invalidateLock&&(this._lockDirty=!0)}invalidateLayout(t=!1){this.invalidate(t)}setLock(){this._invalidateLock=!0}releaseLock(t=!0){this._invalidateLock&&(this._invalidateLock=!1),this._lockDirty&&t&&this.invalidate(),this._lockDirty=!1}lock(t){this.setLock();try{t(this)}finally{this.releaseLock()}}silentLock(t){this.setLock();try{t(this)}finally{this.releaseLock(!1)}}getBounds(){return this._dom.getBoundingClientRect()}setAnimation(t){this._toAnimation=t||0}fling(t,e){}getCssVar(t){let e=this._cssVars[t];return t in this._cssVars?this._cssVars[t]:(e=getComputedStyle(this._root.dom).getPropertyValue(t),this._cssVars[t]=e,e)}_setTesting(){this._testing=!0,P.TESTING=!0}_setSize(t,e){isNaN(t)||(this._container.style.width=t+"px"),isNaN(e)||(this._container.style.height=e+"px")}$_addListener(t,e,i){t.addEventListener(e,i)}_resigterEventHandlers(t){window.addEventListener("resize",this._windowResizeHandler),this.$_addListener(t,"click",this._clickHandler),this.$_addListener(t,"dblclick",this._dblClickHandler),this.$_addListener(t,"touchmove",this._touchMoveHandler),this.$_addListener(t,"pointerdown",this._pointerDownHandler),this.$_addListener(t,"pointermove",this._pointerMoveHandler),this.$_addListener(t,"pointerup",this._pointerUpHandler),this.$_addListener(t,"pointercancel",this._pointerCancelHandler),this.$_addListener(t,"pointerleave",this._pointerLeaveHandler),this.$_addListener(t,"keypress",this._keyPressHandler),this.$_addListener(t,"wheel",this._wheelHandler)}_unresigterEventHandlers(t){window.removeEventListener("resize",this._windowResizeHandler),t.removeEventListener("click",this._clickHandler),t.removeEventListener("dblclick",this._dblClickHandler),t.removeEventListener("touchmove",this._touchMoveHandler),t.removeEventListener("pointerdown",this._pointerDownHandler),t.removeEventListener("pointermove",this._pointerMoveHandler),t.removeEventListener("pointerup",this._pointerUpHandler),t.removeEventListener("pointercancel",this._pointerCancelHandler),t.removeEventListener("pointerleave",this._pointerLeaveHandler),t.removeEventListener("keypress",this._keyPressHandler),t.removeEventListener("wheel",this._wheelHandler)}_prepareRenderers(t){}$_initControl(t,e,i){if(this._inited)return;e instanceof HTMLDivElement?this._container=e:this._container=t.getElementById(e),this._container instanceof HTMLDivElement||((t,e)=>{throw new Error(((t,e)=>t.replace("%1",e))(t,e))})(p.invalidOuterDiv,e);const s=this._container.ownerDocument,n=this._dom=s.createElement("div");Object.assign(n.style,{position:"relative",width:"100%",height:"100%",boxSizing:"border-box",overflow:"hidden","-webkit-touch-callout":"none","-webkit-user-select":"none","user-select":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"}),n.className=i,this._container.appendChild(n);const a=this._svg=s.createElementNS(r,"svg");a.style.setProperty("overflow","visible","important"),a.setAttribute("width","100%"),a.setAttribute("height","100%");const o=s.createElement("desc");o.textContent="Created with RealReport-Chart 1.0.0",a.appendChild(o);const h=this._defs=s.createElementNS(r,"defs");a.appendChild(h),this._dom.appendChild(h),this._root=new B(this),a.appendChild(this._root._dom),this._defaultTool=this._tool=this._creatDefaultTool()}_render(){this.$_render()}$_invalidateElement(t){this._invalidElements.push(t),this.invalidate()}$_requestRender(){window.requestAnimationFrame?this._requestTimer=requestAnimationFrame((()=>this.$_render())):setTimeout((()=>{this.$_render()}),0)}updateNow(){this.$_render()}$_render(){const t=+new Date;if(t<=this._toAnimation)this.$_requestRender();else{try{this._doBeforeRender();const t=this._dom.clientWidth,e=this._dom.clientHeight;this._doRender({x:0,y:0,width:t,height:e})}finally{this._dirty=!1,this._requestTimer=null,this._invalidElements=[],this._doAfterRender()}c.log("render in "+(+new Date-t)+"ms.")}}_doBeforeRender(){}_doAfterRender(){}_doClick(t){}_doDblClick(t){}_doTouchMove(t){return!1}_doPointerDown(t){return!1}_doPointerMove(t){}_doPointerUp(t){}_doPointerCancel(t){}_doPointerLeave(t){}_doKeyPress(t){}_doWheel(t){}_windowResized(){this.invalidateLayout()}}class P extends i{constructor(t,e="g",i=""){super(),this._visible=!0,this._zIndex=0,this._scaleX=1,this._scaleY=1,this._rotation=0,this._styles={},this._styleDirty=!1,this._dom=t.createElementNS(r,e),i&&this.setAttr("class",i)}_doDestory(){this.remove()}get doc(){return this._dom.ownerDocument}get dom(){return this._dom}get parent(){return this._parent}get control(){return this._parent&&this._parent.control}get zIndex(){return this._zIndex}set zIndex(t){t!==this._zIndex&&(this._zIndex=t)}get x(){return this._x}set x(t){t!==this._x&&(this._x=t,this.setAttr("x",this._x))}get y(){return this._x}set y(t){t!==this._y&&(this._y=t,this.setAttr("y",this._y))}get width(){return this._width}set width(t){t!==this._width&&(this._width=t,this.setAttr("width",isNaN(t)?"":t))}get height(){return this._height}set height(t){t!==this._height&&(this._height=t,this.setAttr("height",isNaN(t)?"":t))}get visible(){return this._visible}set visible(t){t!==this._visible&&(this._visible=t,this._dom&&(this._dom.style.display=this._visible?"":"none"))}getStyle(t){return window.getComputedStyle(this._dom).getPropertyValue(t)}hasStyle(t){return this.dom.classList.contains(t)}add(t){return t&&t._parent!==this&&(t._parent=this,this._dom.appendChild(t._dom),t._doAttached(this)),t}insertChild(t,e){return t&&t._parent!==this&&(t._parent=this,this._dom.insertBefore(t._dom,e._dom),t._doAttached(this)),t}insertFirst(t){return t&&t._parent!==this&&(t._parent=this,this._dom.insertBefore(t._dom,this._dom.firstChild),t._doAttached(this)),t}removeChild(t){t&&t._parent===this&&(this._dom.removeChild(t._dom),t._parent=null,t._doDetached(this))}remove(){return this._parent&&this._parent.removeChild(this),this}getAttr(t){return this.dom.getAttribute(t)}setAttr(t,e){return this.dom.setAttribute(t,e),this}setAttrs(...t){for(let e in t)this.dom.setAttribute(e,t[e]);return this}unsetAttr(t){return this.dom.removeAttribute(t),this}setBounds(t,e,i,s){return this.translate(t,e),this.resize(i,s),this}setRect(t){return this.translate(t.x,t.y),this.resize(t.width,t.height),this}getRect(){return O.create(this._translateX,this._translateY,this.width,this.height)}translate(t,e){t===this._translateX&&e===this._translateY||(k.isValidNumber(t)&&(this._translateX=t),k.isValidNumber(e)&&(this._translateY=e),this._updateTransform())}resize(t,e,i=!0){return t!==this._width&&i&&this.setAttr("width",this._width=t),e!==this._height&&i&&this.setAttr("height",this._height=e),this}appendDom(t){return t&&this._dom.appendChild(t),t}insertDom(t,e){return t&&this._dom.insertBefore(t,e),t}clearDom(){const t=this._dom;let e;for(;e=t.lastChild;)t.removeChild(e)}clearStyles(){const t=this.dom.style;let e=!1;for(let i in this._styles)t.removeProperty(i),e=!0;return this._styles={},e&&(this._styleDirty=!0),e}clearStyle(t){const e=this.dom.style;let i=!1;if(t){for(let s of t)s in this._styles&&(e.removeProperty(s),delete this._styles[s],i=!0);i&&(this._styleDirty=!0)}return i}setStyles(t){const e=this.dom.style;let i=!1;if(t){for(let s in t)s in R||this._styles[s]===t[s]||(e[s]=this._styles[s]=t[s],i=!0);i&&(this._styleDirty=!0)}return i}resetStyles(t){const e=this.clearStyles();return this.setStyles(t)||e}_setBackgroundBorderRadius(t){}setBackStyles(t){const e=this.dom.style;let i=!1;if(t){for(let s in t)if(s in R&&this._styles[s]!==t[s]){if("borderRadius"===s)this._setBackgroundBorderRadius(l(parseFloat(t[s]),0)),this._styles[s]=t[s];else if(s in R){const i=R[s];e[i]=this._styles[i]=t[s]}i=!0}i&&(this._styleDirty=!0)}return i}setStyle(t,e){let i=!1;return t in R||e===this._styles[t]||(i=this._styleDirty=!0,this._styles[t]=e,this.dom.style[t]=e),i}setBackStyle(t,e){let i=!1;return t in R&&e!==this._styles[t]&&(i=this._styleDirty=!0,this._styles[t]=e,this.dom.style[t]=e),i}putStyles(t,e){if(e=e||{},t)for(let i in t)e[i]=t[i];return e}putStyle(t,e,i){return(i=i||{})[t]=e,i}_testing(){return P.TESTING}_doAttached(t){}_doDetached(t){}_updateTransform(){const t=this._dom;let e=this._translateX,i=this._translateY,s=[];(k.isValidNumber(e)||k.isValidNumber(i))&&(e=e||0,i=i||0,s=["translate("+e+","+i+")"]),k.isNotEmpty(this._matrix)&&s.push("matrix("+this._matrix.join(",")+")"),this._rotation&&s.push("rotate("+this._rotation+" "+k.pick(this._originX,t.getAttribute("x"),0)+" "+k.pick(this._originY,t.getAttribute("y")||0)+")");const r=k.getNumber(this._scaleX,1),n=k.getNumber(this._scaleY,1);1===r&&1===n||s.push("scale("+r+" "+n+")"),s.length&&this._dom.setAttribute("transform",s.join(" "))}}P.TESTING=!1,P.DEBUGGING=!1;class B extends P{constructor(t){super(t.doc()),this._control=t}get control(){return this._control}}class F extends P{constructor(t,e=""){super(t,"g",e),this._doInitChildren(t)}_movable(){return!1}setAttr(t,e){return F.IGNORE_ATTRS.hasOwnProperty(t)||super.setAttr(t,e),this}_doInitChildren(t){}}F.IGNORE_ATTRS={width:"",height:""};class H extends i{constructor(t,e=!0){super(),this.chart=t,this._visible=e}visible(){return this._visible}setVisible(t){var e;t!==this._visible&&(this._visible=t,null===(e=this.chart)||void 0===e||e._visibleChanged(this))}load(t){this._doLoad(t)}prepareRender(){this._doPrepareRender(this.chart)}_changed(){var t;null===(t=this.chart)||void 0===t||t._modelChanged(this)}_doLoad(t){for(const e in t){let i=t[e];a(i)?i=i.slice(0):n(i)&&(i=Object.assign({},i)),this[e]=i}}_doPrepareRender(t){}}class $ extends H{constructor(t,e){super(t.chart),this.source=e}text(){return this.source.legendLabel()}}var z,j,G,W,q,U,X;!function(t){t.BOTTOM="bottom",t.TOP="top",t.RIGHT="right",t.LEFT="left",t.PLOT="plot"}(z||(z={})),function(t){t.CHART="chart",t.PLOT="plot"}(j||(j={})),function(t){t.AUTO="auto",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(G||(G={}));class Y extends H{constructor(){super(...arguments),this.position=z.BOTTOM,this.layout=G.AUTO,this.alignBase=j.PLOT,this.align=w.CENTER,this.verticalAlign=x.MIDDLE,this.offsetX=0,this.offsetY=0,this.margin=10,this.padding=5,this.itemGap=12}items(){return this._items.slice(0)}isEmpty(){return!this._items||this._items.length<1}getLayout(){if(this.layout!==G.AUTO||this.position===z.PLOT)return this.layout;switch(this.position){case z.BOTTOM:case z.TOP:return G.HORIZONTAL;default:return G.VERTICAL}}prepareRender(){this._items=this.$_collectItems()}_doLoad(t){super._doLoad(t)}$_collectItems(){return this.chart._getLegendSources().map((t=>new $(this,t)))}}class K{static getContrast(t,e,i){return new K(t).getContrast(e,i)}static interpolate(t,e,i){const s=(16711680&t)>>16,r=(65280&t)>>8,n=255&t;return(s+(((16711680&e)>>16)-s)*i<<16)+(r+(((65280&e)>>8)-r)*i<<8)+(n+((255&e)-n)*i)}constructor(t){this.r=0,this.g=0,this.b=0,this.a=1,(t=t&&t.trim())&&(k.startsWith(t,"rgb(")&&k.endsWith(t,")")?this.$_parseRgb(t.substring(4,t.length-1)):k.startsWith(t,"rgba(")&&k.endsWith(t,")")?this.$_parseRgb(t.substring(5,t.length-1)):k.startsWith(t,"#")&&this.$_parseNumber(t.substr(1)))}get rgba(){return"rgba("+[this.r,this.g,this.b,this.a].join(",")+")"}getContrast(t,e){return.299*this.r+.587*this.g+.114*this.b>140?t||"#000000":e||"#FFFFFF"}brighten(t,e=null){return(e=e||new K(null)).r=Math.ceil(this.r+(255-this.r)*t),e.g=Math.ceil(this.g+(255-this.g)*t),e.b=Math.ceil(this.b+(255-this.b)*t),e.a=this.a,e}toString(){return this.rgba}$_parseRgb(t){const e=t.split(/\,\s*/);e.length>=3&&(this.r=+e[0],this.g=+e[1],this.b=+e[2],e.length>=4?this.a=+e[3]:this.a=1)}$_parseNumber(t){}}!function(t){t.START="start",t.MIDDLE="middle",t.END="end"}(W||(W={})),function(t){t.TOP="top",t.MIDDLE="middle",t.BOTTOM="bottom"}(q||(q={}));class Q extends P{constructor(t,e="",i=""){super(t,"text",i),this._layout=q.TOP,this._dirty=!0,this._text="",this.setAttr("text-anchor","middle"),e&&(this.text=e)}get text(){return this._text}set text(t){(t=t||"")!==this._text&&(this._dirty=!0,this.dom.textContent=this._text=t,this.layoutText())}get anchor(){return this.getAttr("text-anchor")}set anchor(t){t!==this.anchor&&this.setAttr("text-anchor",t)}get layout(){return this._layout}set layout(t){t!==this._layout&&(this._layout=t,this.layoutText())}get svg(){return this.dom.innerHTML}set svg(t){t=t||"",this.dom.innerHTML=t}get opacity(){return this.getAttr("fill-opacity")}set opacity(t){this.setAttr("fill-opacity",t)}getAscent(t){return.75*t}layoutText(t){const e=this.getBBounds(),i=this.getAscent(isNaN(t)?e.height:t);let s;switch(this._layout){case q.MIDDLE:s=Math.floor(i/2);break;case q.BOTTOM:s=i-e.height;break;default:s=Math.ceil(i)}this.setAttr("y",s)}isFitIn(t){return this.calcWidth()>=t}calcWidth(){const t=this._text.length;return t&&this.dom.getSubStringLength(0,t)}calcRangeWidth(t=0,e=Number.MAX_SAFE_INTEGER){return t=Math.max(0,t),(e=Math.min(this._text.length,e))>t?this.dom.getSubStringLength(t,e-t):0}truncate(t,e){let i=this._text;if(!i)return;const s=this.dom;let r,n=0,a=i.length;do{r=Math.ceil((n+a)/2);s.getSubStringLength(0,r)>t?a=r-1:n=r}while(n<a);for(this.text=i.substring(0,n)+"…";n>0&&this.calcWidth()>t;)this.text=i.substring(0,--n)+"…"}setContrast(t,e="black",i="white"){return this.setStyle("fill",K.getContrast(getComputedStyle(t).fill,e,i)),this}clearDom(){super.clearDom(),this._dirty=!0}setStyles(t){let e=super.setStyles(t);return e&&this.layoutText(),e}setStyle(t,e){let i=super.setStyle(t,e);return i&&this.layoutText(),i}getBBounds(){return(this._dirty||this._styleDirty)&&(this._bounds=this.dom.getBBox(),this._dirty=this._styleDirty=!1),this._bounds}getBBoundsTest(){return(this._dirty||this._styleDirty)&&(this._bounds={x:this.x,y:this.y,width:100,height:30},this._dirty=this._styleDirty=!1),this._bounds}}class Z extends P{measure(t,e,i,s,r){const n=this._doMeasure(t,this.model=e,i,s,r);return this.mw=n.width,this.mh=n.height,n}layout(){this._doLayout()}}class J extends Z{_doMeasure(t,e,i,s,r){}_doLayout(){}}class tt extends Z{constructor(t){super(t),this._labelViews=[],this.add(this._titleView=new J(t)),this.add(this._labelContainer=new P(t))}checkHeight(t,e){const i=this.model,s=this.$_prepareChecker(t);return i.tick.mark.length+s.getBBounds().height}checkWidth(t,e){const i=this.model,s=this.$_prepareChecker(t);return i.tick.mark.length+s.getBBounds().width}_doMeasure(t,e,i,s,r){}_doLayout(){}$_prepareChecker(t){const e=this.model._ticks[0];let i=this._labelViews[0];return i||(i=new Q(t),this._labelContainer.add(i),this._labelViews.push(i)),i.text=e.label,i}}class et{static empty(){return new et}static create(t=0,e=0){return new et(t,e)}constructor(t=0,e=0){this.width=t,this.height=e}get isEmpty(){return 0===this.width||0===this.height}clone(){return new et(this.width,this.height)}equals(t){return t===this||t&&this.width===t.width&&this.height===t.height}setEmpty(){return this.width=this.height=0,this}set(t,e){return this.width=t,this.height=e,this}round(){const t=this.clone();return t.width>>>=0,t.height>>>=0,t}toString(){return"{width: "+this.width+", height: "+this.height+"}"}}et.EMPTY=new et;class it{constructor(t){this.value=t}getProp(t){return null==(e=this.value)||isNaN(e)?this.value:this.value[t];var e}}class st{constructor(t){this._owner=t}get count(){return this._points.length}isEmpty(){return this._points.length<1}get(t){return this._points[t]}load(t){a(t)?(t=t.sort(((t,e)=>a(t)||n(t)?0:-1)),this._points=t.map((t=>new it(t)))):this._points=[]}getProps(t){return this._points.map((e=>e.getProp(t)))}getValues(t){return this._points.map((e=>e[t]))}prepare(){const t=this._owner;this._points.forEach(((e,i)=>{const s=e.value;e.index=i,a(s)?(e.x=s[l(t.xField,0)],e.y=s[l(t.yField,1)]):n(s)?(e.x=s[t.xField]||s.x||s.name||s.label,e.y=s[t.xField]||s.y||s.value):(e.x=i,e.y=s)}))}forEach(t){for(let e=0,i=this._points.length;e<i&&!0!==t(this._points[e],e);e++);}getVisibles(){return this._points.filter((t=>this._owner.isVisible(t)))}}class rt extends H{constructor(t){super(null==t?void 0:t.chart),this.axis=t}}class nt extends rt{constructor(){super(...arguments),this.margin=8}}class at extends rt{constructor(){super(...arguments),this.circular=!1,this.startVisible=!0,this.endVisible=!0}}class ot extends rt{constructor(){super(...arguments),this.length=7}}class ht extends rt{constructor(t){super(t),this.mark=this._createMark()}getTick(t){if(null!=t){let e=String(t);return this.prefix&&(e=this.prefix+e),this.suffix&&(e+=this.suffix),e}return""}_createMark(){return new ot(this.axis)}}class lt extends H{constructor(t,e){super(t),this.opposite=!1,this.reversed=!1,this.minPadding=0,this.maxPadding=0,this.tickStart=!1,this.tickEnd=!1,this._series=[],this.name=e,this.title=new nt(this),this.tick=this._createTick(),this.grid=new at(this)}_createTick(){return new ht(this)}prepareRender(){this._doPrepareRender();let t=[];this._series.forEach((e=>{t=t.concat(e.collectValues(this))})),this._range=this._doCalcluateRange(t)}buildTicks(t){this._ticks=this._doBuildTicks(this._range.min,this._range.max,t)}getValue(t){return+t}contains(t){return t>=this._range.min&&t<=this._range.max}_connect(t){t&&!this._series.includes(t)&&this._series.push(t)}_doCalcluateRange(t){return{min:Math.min(...t),max:Math.max(...t)}}}class ct{constructor(t,e){this._items=[],this._map=new Map,this.chart=t,this.isX=e}get count(){return this._items.length}get first(){return this._items[0]}get items(){return this._items.slice(0)}load(t){const e=this.chart;e.series;const i=this._items;a(t)?t.forEach(((t,s)=>i.push(this.$_loadAxis(e,t,s)))):n(t)&&i.push(this.$_loadAxis(e,t,0))}get(t){return this._map.get(t)}prepareRender(){this._items.forEach((t=>t.prepareRender()))}buildTicks(t){this._items.forEach((e=>e.buildTicks(t)))}connect(t){const e=this._items,i=this.isX?t.xAxis:t.yAxis;let s;return h(i)&&i>=0&&e.length?s=e[i]:o(i)&&(s=e.find((t=>t.name===i))),s||(s=e[0]),s&&s._connect(t),s}forEach(t){for(let e=0,i=this._items.length;e<i&&!0!==t(this._items[e],e);e++);}$_loadAxis(t,e,i){let s=t._getAxisType(e.type);if(!s){let r;if(a(e.categories))r="category";else if(this.isX){for(const s of t._getSeries().items())if(s.isCategorized()){if(e.name&&s.xAxis===e.name){r="category";break}if(h(s.xAxis)&&s.xAxis===i){r="category";break}}!r&&t.series.isCategorized()&&(r="category")}r&&(s=t._getAxisType(r))}s||(s=t._getAxisType("linear"));const r=new s(t,e.name);return r.load(e),r}}!function(t){t.TICK="tick",t.EDGE="edge"}(U||(U={}));class dt extends ot{constructor(){super(...arguments),this.position=U.TICK}}class ut extends ht{constructor(){super(...arguments),this.steps=1,this.showLast=!1}_createMark(){return new dt(this.axis)}}class pt extends lt{constructor(){super(...arguments),this._map=new Map}getCategories(){return this._cats}getWdith(t,e){return 0}_createTick(){return new ut(this)}getValue(t){return h(t)?t:this._map.get(t)}_doPrepareRender(){this._collectCategories(this._series)}_doBuildTicks(t,e,i){const s=this._cats,r=s.length,n=l(this.minPadding,0),a=l(this.maxPadding,0),o=[];t=Math.floor(t);const h=i/((e=Math.ceil(e))-t+1+n+a),c=n*h;for(let i=t;i<=e;i++)o.push({pos:c+i*h+h/2,value:i,label:this.tick.getTick(i<r?s[i]:i)});return o}getPosition(t,e){return 0}_collectCategories(t){const e=this.categories;if(a(e)&&e.length>0)this._cats=e.map((t=>null==t?null:t.toString()));else{const e=this._cats=[];if(a(t))for(const i of t){const t=i.collectCategories(this);for(const i of t)e.includes(i)||e.push(i)}}this._map.clear(),this._cats.forEach(((t,e)=>this._map.set(t,e)))}}class gt extends H{constructor(t,e){super(t),this.pointStart=0,this.pointStep=1,this.index=-1,this.name=e,this._points=new st(this)}isBar(){return!1}getPoints(){return this._points}isEmpty(){return this._points.isEmpty()}isCategorized(){return!1}legendColor(){return"red"}legendLabel(){return this.name}legendVisible(){return this.visible()}load(t){this._points.load(t[this.dataProp||"data"])}createPoint(t){return new it(t)}getValue(t,e){const i=t.value;if(null==i)return NaN;i[this._getField(e)]}prepareRender(){this._xAxisObj=this.chart._connectSeries(this,!0),this._yAxisObj=this.chart._connectSeries(this,!1),this._points.prepare()}collectCategories(t){if(t instanceof pt){let e=t.categoryField;return null!=e?this._points.getProps(e):this._points.getValues(t===this._xAxisObj?"x":"y").filter((t=>o(t)))}}collectValues(t){return this._points.getValues(t===this._xAxisObj?"x":"y").map((e=>t.getValue(e)))}isVisible(t){return this._xAxisObj.contains(t.x)&&this._yAxisObj.contains(t.y)}getLegendSources(t){t.push(this)}_getField(t){return t===this._xAxisObj?this.xField:this.yField}_doLoad(t){super._doLoad(t);const e=t[this.dataProp];a(e)&&this._points.load(e)}}gt.Defaults={};class _t{constructor(t){this._items=[],this._map=new Map,this.chart=t}get first(){return this._items[0]}isEmpty(){if(this._items.length>0)for(const t of this._items)if(!t.isEmpty())return!1;return!0}items(){return this._items.slice(0)}visibles(){return this._items.filter((t=>t.visible()))}containsBar(){for(const t of this._items)if(t.visible()&&t.isBar())return!0}load(t){const e=this.chart;a(t)?t.forEach((t=>this._items.push(this.$_loadSeries(e,t)))):n(t)&&this._items.push(this.$_loadSeries(e,t)),this._items.forEach(((t,e)=>t.index=e))}get(t){return this._map.get(t)}getLegendSources(){const t=[];return this._items.forEach((e=>{e.visible()&&e.getLegendSources(t)})),t}forEach(t){for(let e=0,i=this._items.length;e<i&&!0!==t(this._items[e],e);e++);}prepareRender(){this._items.forEach((t=>t.prepareRender()))}$_loadSeries(t,e){let i=t._getSeriesType(e.type);i||(i=t._getSeriesType(t.type));const s=new i(t,e.name);return s.load(e),s}}class mt extends gt{constructor(){super(...arguments),this.pointWidth=mt.POINT_WIDTH}isCategorized(){return!0}}mt.POINT_WIDTH=.7;class yt extends mt{isBar(){return!0}}class ft extends yt{}class wt extends gt{}!function(t){t.SQURE_ROOT="squreRoot",t.STURGES="struges",t.RICE="rice"}(X||(X={}));const xt={squreRoot:function(t){return Math.ceil(Math.sqrt(t))},struges:function(t){return Math.ceil(Math.log(t)*Math.LOG2E)},rice:function(t){return Math.ceil(2*Math.pow(t,1/3))}};class bt extends gt{constructor(){super(...arguments),this.binsNumber=X.SQURE_ROOT}getBinCount(t){const e=l(this.binWidth,0);if(e>0)return t/e;return l(this.binsNumber,0)<1?xt[this.binsNumber||X.SQURE_ROOT](t):void 0}}class vt extends gt{constructor(){super(...arguments),this.curved=!1,this.baseValue=0,this.connectNulls=!1}}class Tt extends it{constructor(){super(...arguments),this.visible=!0}legendColor(){return"red"}legendLabel(){return this.x}legendVisible(){return this.visible}}class Nt extends gt{createPoint(t){return new Tt(t)}getLegendSources(t){this._points.forEach((e=>{t.push(e)}))}}class At extends gt{}class Et extends Z{_doMeasure(t,e,i,s,r){return et.create(i,s)}_doLayout(){this._renderSeries(this.width,this.height)}}class Mt extends Et{_renderSeries(t,e){}}const St=new Map([[yt,Mt],[mt,class extends Mt{_renderSeries(t,e){}}],[vt,class extends Et{_renderSeries(t,e){}}],[ft,class extends Et{_renderSeries(t,e){}}],[wt,class extends Et{_renderSeries(t,e){}}],[At,class extends Et{_renderSeries(t,e){}}],[bt,class extends Et{_renderSeries(t,e){}}],[Nt,class extends Et{_renderSeries(t,e){}}]]);class Ct extends Z{constructor(t){super(t),this._polar=!1,this._seriesViews=[],this._seriesMap=new Map,this.add(this._gridContainer=new P(t)),this.add(this._seriesContainer=new P(t))}setPolar(t){t!==this._polar&&(this._polar=t)}_doMeasure(t,e,i,s,r){return this.$_prepareSeries(t,e.chart._getSeries().visibles()),et.create(i,s)}_doLayout(){}$_createSeriesView(t,e){for(const i in St)if(e instanceof i)return new(St.get(i))(t)}$_prepareSeries(t,e){const i=this._seriesContainer,s=this._seriesMap,r=this._seriesViews;r.forEach((t=>t.remove())),r.length=0,e.forEach((e=>{let i=s.get(e);i?s.delete(e):i=this.$_createSeriesView(t,e),r.push(i)})),s.clear(),r.forEach(((t,r)=>{i.add(t),s.set(e[r],t)}))}}class Lt extends Z{_doMeasure(t,e,i,s,r){return et.create(70,30)}_doLayout(){}}class kt extends Z{constructor(){super(...arguments),this._itemViews=[]}_doMeasure(t,e,i,s,r){const n=e.items(),a=this.vertical=e.getLayout()===G.VERTICAL,o=e.itemGap,h=this._itemViews;let l=0,c=0;return this.$_prepareItems(t,n),h.forEach(((e,o)=>{const h=e.measure(t,n[o],i,s,r);a?(l=Math.max(l,h.width),c+=h.height):(c=Math.max(c,h.height),l+=h.width)})),a?c+=(h.length-1)*o:l+=(h.length-1)*o,et.create(l,c)}_doLayout(){}$_prepareItems(t,e){const i=this._itemViews;for(;i.length<e.length;)i.push(this.add(new Lt(t)));for(;i.length>e.length;)i.pop().remove()}}class Dt extends Z{constructor(t){super(t),this.add(this._textView=new Q(t))}_doMeasure(t,e,i,s,r){return this._textView.text=this.model.text,{width:(n=this._textView.getBBounds()).width,height:n.height};var n}_doLayout(){}}class Ot extends F{measure(t,e,i,s,r){const n=this._doMeasure(t,e,i,s,r);return this.mw=n.width,this.mh=n.height,n}layout(){this._doLayout()}}class Vt extends Ot{_doInitChildren(t){this.add(this.titleView=new Dt(t)),this.add(this.subtitleView=new Dt(t))}_doMeasure(t,e,i,s,r){let n,a=i,o=0;return(this.titleView.visible=e.title.visible())&&(n=this.titleView.measure(t,e.title,i,s,r),o+=n.height,s-=n.height),(this.subtitleView.visible=e.subtitle.visible())&&(n=this.subtitleView.measure(t,e.subtitle,i,s,r),o+=n.height,s-=n.height),{width:a,height:o}}_doLayout(){}}class Rt extends Ot{_doInitChildren(t){this.add(this._legendView=new kt(t))}_doMeasure(t,e,i,s,r){return this._legendView.measure(t,e.legend,i,s,r)}_doLayout(){}}class It extends Ot{constructor(t,e){super(t),this.dir=e,this.views=[]}prepare(t,e){const i=this.views;for(;i.length<e.length;){const e=new tt(t);this.add(e),i.push(e)}for(;i.length>e.length;)i.pop().remove();i.forEach(((t,i)=>t.model=e[i])),this.axes=e,this.visible=i.length>0}checkHeights(t,e){let i=0;return this.views.forEach((s=>{i+=s.checkHeight(t,e)})),i}checkWidths(t,e){let i=0;return this.views.forEach((s=>{i+=s.checkWidth(t,e)})),i}_doMeasure(t,e,i,s,r){const n=this.axes;this.views.forEach(((e,a)=>{e.measure(t,n[a],i,s,r)}))}_doLayout(){}}class Pt extends F{}class Bt extends P{constructor(t){super(t),this._flipped=!1,this._axisSectionViews=new Map,this.add(this._titleSectionView=new Vt(t)),this.add(this._legendSectionView=new Rt(t)),this.add(this._bodyView=new Ct(t)),Object.values(b).forEach((e=>{if(h(e)){const i=new It(t,e);this.add(i),this._axisSectionViews.set(e,i)}}))}titleView(){return this._titleSectionView.titleView}subtitleView(){return this._titleSectionView.subtitleView}bodyView(){return this._bodyView}measure(t,e,i,s,r){if(e&&1==r&&e.prepareRender(),this.$_checkEmpty(t,e,i,s))return;const n=this._model=e,a=n.legend;let o,h=i,l=s;if(this._flipped=n._getSeries().containsBar(),o=this._titleSectionView.measure(t,n,h,l,r),l-=o.height,this._legendSectionView.visible=a.visible()&&!a.isEmpty())switch(o=this._legendSectionView.measure(t,n,h,l,r),a.position){case z.TOP:case z.BOTTOM:l-=o.height;break;case z.RIGHT:case z.LEFT:h-=o.width}this.$_measurePlot(t,n,h,l,1)}layout(){const t=this._model,e=this.width,i=this.height;t||this._emptyView.resize(e,i)}$_checkEmpty(t,e,i,s){if(!e||e.isEmpty())return this._emptyView||(this._emptyView=new Pt(t)),this._emptyView.resize(i,s),!0;this._emptyView&&(this._emptyView.visible=!1)}$_prepareAxes(t,e){const i=this._axisSectionViews;for(const s of i.keys()){const r=i.get(s),n=e.getAxes(s);r.prepare(t,n)}}$_measurePlot(t,e,i,s,r){const n=this._axisSectionViews;e.layoutAxes(i,s,r),this.$_prepareAxes(t,e),this._flipped?(i-=n.get(b.LEFT).checkWidths(t,s),i-=n.get(b.RIGHT).checkWidths(t,s)):(s-=n.get(b.BOTTOM).checkHeights(t,i),s-=n.get(b.TOP).checkHeights(t,i)),this._bodyView.measure(t,e.body,i,s,r)}}class Ft extends I{constructor(t,e){super(t,e,Ft.CLASS_NAME),this.addElement(this._chartView=new Bt(t))}get model(){return this._model}set model(t){t!==this._model&&(this._model=t,this.invalidateLayout())}chartView(){return this._chartView}useImage(t){}_creatDefaultTool(){}_doRender(t){this._chartView.measure(this.doc(),this._model,t.width,t.height,1),this._chartView.resize(t.width,t.height),this._chartView.layout()}}Ft.CLASS_NAME="rtc-control";class Ht extends H{constructor(){super(...arguments),this.startAngle=0,this.endAngle=360,this.centerX="50%",this.centerY="50%",this.size="80%"}}class $t extends H{constructor(){super(...arguments),this.text="Title"}}var zt;!function(t){t.BOTTOM="bottom",t.RIGHT="right",t.LEFT="left",t.TOP="top"}(zt||(zt={}));class jt extends ht{constructor(){super(...arguments),this.stepPixels=72,this.integral=!1}buildSteps(t,e,i,s){let r;return r=Array.isArray(this.steps)?this.steps.slice(0):this.stepCount>0?this._getStepsByCount(this.stepCount,e,i,s):this.stepSize>0?this._getStepsBySize(this.stepSize,e,i,s):this.stepPixels>0?this._getStepsByPixels(t,this.stepPixels,e,i,s):[i,s],r}_getStepsByCount(t,e,i,s){i>e?(i=e,e=NaN):s<e&&(s=e,e=NaN),isNaN(e)&&this.integral;let r=(s-i)/(t-1);const n=Math.pow(10,Math.floor(Math.log10(r))),a=[];if(r=Math.ceil(r/n)*n,isNaN(e))i>Math.floor(i/n)*n?i=Math.floor(i/n)*n:i<Math.ceil(i/n)*n&&(i=Math.ceil(i/n)*n);else{for(y(i<e&&s>e,"base error"),t=Math.max(3,t);;){if(!(g((e-i)/r)+g((s-e)/r)+1>t))break;r+=n}i=e-g((e-i)/r)*r}a.push(i);for(let e=1;e<t;e++)a.push(_(a[e-1]+r));return a}_getStepsBySize(t,e,i,s){const r=[];let n;if(isNaN(e))for(r.push(n=i);n<s;)r.push(n+=t);else{for(r.push(n=e);n>i;)r.unshift(n-=t);for(n=e;n<s;)r.push(n+=t)}return r}_getStepMultiples(t){return[1,2,2.5,5,10]}_getStepsByPixels(t,e,i,s,r){s>i?(s=i,i=NaN):r<i&&(r=i,i=NaN);const n=r-s;let a=Math.floor(t/this.stepPixels)+1,o=n/(a-1);const h=Math.pow(10,Math.floor(Math.log10(o))),l=this._getStepMultiples(o),c=[];let d;if(o/=h,l)if(o>l[0]){let t=0;for(;t<l.length-1;t++)if(o>l[t]&&o<l[t+1]){o=l[t+1];break}t>=l.length&&(o=l[l.length-1])}else o=l[0];if(o*=h,isNaN(i))s>Math.floor(s/h)*h?s=Math.floor(s/h)*h:s<Math.ceil(s/h)*h&&(s=Math.ceil(s/h)*h);else{for(y(s<i&&r>i,"base error"),a=Math.max(3,a);;){if(!(g((i-s)/o)+g((r-i)/o)+1>a))break;o+=h}s=i-g((i-s)/o)*o}for(c.push(_(d=s));d<r;)c.push(_(d+=o));return c}}class Gt extends lt{constructor(t,e){super(t,e),this.nullable=!0,this.syncMinMax=!1,this.baseValue=0}contains(t){return this.nullable&&isNaN(t)||super.contains(t)}_createTick(){return new jt(this)}_doPrepareRender(){this._hardMin=this.minValue}_doBuildTicks(t,e,i){const s=this.tick,{min:r,max:n}=this.$_adjustMinMax(t,e),a=s.buildSteps(i,this.baseValue,r,n),o=[];for(let t=0;t<a.length;t++)o.push({pos:a[t],value:a[t],label:String(a[t])});return o}getPosition(t,e){}$_adjustMinMax(t,e){const i=this.baseValue,s=this.minPadding,r=this.maxPadding;if(!isNaN(i)){if(this.syncMinMax&&t<=i&&e>=i){const s=Math.max(Math.abs(t),Math.abs(e));e=i+s,t=i-s}isNaN(this._hardMin)||(t=this._hardMin),isNaN(this._hardMax)||(e=this._hardMax)}let n=Math.max(0,e-t);return isNaN(s)||(t-=n*s),isNaN(r)||(e+=n*r),{min:t,max:e}}}class Wt extends jt{buildSteps(t,e,i,s){return i=Math.log10(i),s=Math.log10(s),super.buildSteps(t,e,i,s)}}const qt=[1,1e3,6e4,36e5,864e5,6048e5,24192e5,314496e5],Ut=[[1,2,5,10,20,25,50,100,200,250,500],[1,2,5,10,15,30],[1,2,3,4,6,8,12],[1,2,3],[1,2],[1,2,3,4,6]];class Xt extends jt{_getStepMultiples(t){for(let e=0;e<7;e++)if(t<=qt[e])return Ut[e];return null}}class Yt extends Gt{constructor(t,e){super(t,e),this.baseValue=NaN}_createTick(){return new Xt(this)}_doBuildTicks(t,e,i){}}const Kt={bar:yt,column:mt,line:vt,boxplot:ft,bubble:wt,scatter:At,histogram:bt,pie:Nt},Qt={linear:Gt,category:pt,time:Yt,date:Yt,log:class extends Gt{_createTick(){return new Wt(this)}_doBuildTicks(t,e,i){}getPosition(t,e){}}};class Zt extends i{constructor(t){super(),this.type="column",this._groups=new Map,this._title=new $t(this),this._subtitle=new $t(this,!1),this._legend=new Y(this),this._series=new _t(this),this._xAxes=new ct(this,!0),this._yAxes=new ct(this,!1),this._body=new Ht(this),t&&this.load(t)}get title(){return this._title}get subtitle(){return this._subtitle}get series(){return this._series.first}get legend(){return this._legend}get xAxis(){return this._xAxes.first}get yAxis(){return this._yAxes.first}get body(){return this._body}_getSeries(){return this._series}_getXAxes(){return this._xAxes}_getYAxes(){return this._yAxes}inverted(){return!1}isEmpty(){return this._series.isEmpty()}seriesByBame(t){return this._series.get(t)}axisByName(t){return this._xAxes.get(t)||this._yAxes.get(t)}getGroup(t){return this._groups.get(t)}getAxes(t){const e=this._xAxes.items,i=this._yAxes.items;let s;if(this.inverted())switch(t){case b.LEFT:s=i.filter((t=>!t.opposite));break;case b.RIGHT:s=i.filter((t=>t.opposite));break;case b.BOTTOM:s=e.filter((t=>!t.opposite));break;case b.TOP:s=e.filter((t=>t.opposite))}else switch(t){case b.LEFT:s=e.filter((t=>!t.opposite));break;case b.RIGHT:s=e.filter((t=>t.opposite));break;case b.BOTTOM:s=i.filter((t=>!t.opposite));break;case b.TOP:s=i.filter((t=>t.opposite))}return s||[]}_getLegendSources(){return this._series.getLegendSources()}load(t){this._title.load(t.title),this._subtitle.load(t.subtitle),this._legend.load(t.legend),this._series.load(t.series),this._xAxes.load(t.xAxes||t.xAxis||{}),this._yAxes.load(t.yAxes||t.yAxis||{}),this._body.load(t.body)}_connectSeries(t,e){return e?this._xAxes.connect(t):this._yAxes.connect(t)}prepareRender(){this._series.prepareRender(),this._xAxes.prepareRender(),this._yAxes.prepareRender(),this._legend.prepareRender()}layoutAxes(t,e,i){this._xAxes.buildTicks(t),this._yAxes.buildTicks(e)}update(){}_getSeriesType(t){return Kt[t]}_getAxisType(t){return Qt[t]}_visibleChanged(t){}_modelChanged(t){}}class Jt{static getVersion(){return"0.0.1"}static createChartControl(t,e){return new Ft(t,e)}static loadChart(){return new Zt}}const te=Jt.getVersion,ee=Jt.createChartControl,ie=Jt.loadChart;t.Chart=Zt,t.ChartControl=Ft,t.createChartControl=ee,t.getVersion=te,t.loadChart=ie}));
