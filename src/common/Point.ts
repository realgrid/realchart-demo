////////////////////////////////////////////////////////////////////////////////
// Point.ts
// 2023. 01. 04. created by woori
// -----------------------------------------------------------------------------
// Copyright (c) 2021-2023 Wooritech Inc.
// All rights reserved.
////////////////////////////////////////////////////////////////////////////////

export interface IPoint {
    x: number;
    y: number;
}

/** @internal */
export class Point implements IPoint {
	
    //-------------------------------------------------------------------------
    // consts
    //-------------------------------------------------------------------------
    static empty(): Point {
        return new Point();
    }

    static create(x: number = 0, y: number = 0): Point {
        return new Point(x, y);
    }

    //-------------------------------------------------------------------------
    // static members
    //-------------------------------------------------------------------------
    //-------------------------------------------------------------------------
    // fields
    //-------------------------------------------------------------------------
    //-------------------------------------------------------------------------
    // constructors
    //-------------------------------------------------------------------------
    constructor(public x = 0, public y = 0) {
    }

	//-------------------------------------------------------------------------
    // properties
    //-------------------------------------------------------------------------
    /** isEmpty */
	get isEmpty(): boolean {
		return this.x === 0 || this.y === 0;
    }

    //-------------------------------------------------------------------------
    // methods
    //-------------------------------------------------------------------------
	clone(): Point {
		return new Point(this.x, this.y);
    }
    
	equals(sz: Point): boolean {
		return sz === this
			|| sz && this.x === sz.x && this.y === sz.y;
    }
    
	setEmpty(): Point {
		this.x = this.y = 0;
		return this;
    }
    
	set(x: number, y: number): Point {
		this.x = x;
		this.y = y;
		return this;
    }
    
	round(): Point {
		const pt = this.clone();
		pt.x >>>= 0;
		pt.y >>>= 0;
		return pt;
	}

    //-------------------------------------------------------------------------
    // overriden members
    //-------------------------------------------------------------------------
	toString(): string {
		return "{x: " + this.x + ", y: " + this.y + "}";
	}

    //-------------------------------------------------------------------------
    // internal members
    //-------------------------------------------------------------------------
}
